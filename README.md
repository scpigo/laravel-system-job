# laravel-system-job

## Планирование задач:
- Отправить запрос с параметрами:
    "action" - название задачи,
    "action_params" - параметры задачи (json-строка),
    "scheduled_at" - запланированная дата.

- Получить экземпляр планировщика: $scheduler = SystemJobManager::scheduler('sql'). В метод при необходимости передается имя планировщика, указанный в массиве 'schedulers' файла конфигурации systemjob, по умолчанию используется значение переменной 'default'.
- Вызвать метод: $scheduler->schedule($dto), передать в него объект SystemJobSchedulerDto, заполненный параметрами запроса.

## Отправда задач в очередь:
- Выполнить консольную команду php artisan systemjob:push
- дополнительная опция команды --scheduler указывает планировщик задач, чьи задачи необходимо отправить в очередь, по умолчанию используется значение переменной 'default' в файле конфигурации systemjob.
- Выполнение задач в очереди происходит командой php artisan queue:work. 
